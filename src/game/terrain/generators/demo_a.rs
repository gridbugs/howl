use rand::Rng;
use engine_defs::*;
use ecs_content::*;
use game::*;
use content_types::*;
use game::terrain::util;
use math::Coord;

const START_COORD: Coord = Coord { x: 0, y: 14 };

pub fn demo_a<S: TurnScheduleQueue, R: Rng>(ids: &EntityIdReserver,
                                           r: &mut R,
                                           schedule: &mut S,
                                           g: &mut EcsAction) -> TerrainMetadata {

    let level_switch = LevelSwitch::LeaveLevel;

    let (width, height) = util::terrain_from_strings(&level_str(), Some(level_switch), ids, schedule, g, r);

    TerrainMetadata {
        width: width,
        height: height,
        start_coord: START_COORD,
        connection_report: LevelConnectionReport::new(),
    }
}

fn level_str() -> Vec<&'static str> {

    vec!["#########################################################",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#....@..................................................#",
         "#.......................................................#",
         "#.......................................................#",
         "#########################################################"]
}
